count .req x2

mov count, #16

        ldr q15, [x1, #0]         // *.
        // gap                    // ..
        // gap                    // ..
        // gap                    // ..
        ldr q25, [x0, #48]        // .*
        // gap                    // ..

        // original source code
        // ldr q15, [x1, #0]       // *.
        // ldr q25, [x0, #48]      // .*

        sub count, count, #1
start:
        ldr q14, [x0, #16]                       // ..*................
        // gap                                   // ...................
        // gap                                   // ...................
        // gap                                   // ...................
        sqrdmulh v31.8H, v25.8H, v15.H[1]        // ...........*.......
        // gap                                   // ...................
        mul v10.8H, v25.8H, v15.H[0]             // ..........*........
        // gap                                   // ...................
        ldr q25, [x0, #32]                       // ...*...............
        // gap                                   // ...................
        // gap                                   // ...................
        // gap                                   // ...................
        sqrdmulh v28.8H, v14.8H, v15.H[1]        // ......*............
        // gap                                   // ...................
        mls v10.8H, v31.8H, v1.H[0]              // ............*......
        // gap                                   // ...................
        mul v27.8H, v14.8H, v15.H[0]             // .....*.............
        // gap                                   // ...................
        ldr q26, [x0]                            // .*.................
        // gap                                   // ...................
        // gap                                   // ...................
        // gap                                   // ...................
        sub v6.8H, v25.8H, v10.8H                // .............*.....
        // gap                                   // ...................
        mls v27.8H, v28.8H, v1.H[0]              // .......*...........
        // gap                                   // ...................
        ldr q15, [x1, #0]                        // e..................
        // gap                                   // ...................
        // gap                                   // ...................
        // gap                                   // ...................
        add v14.8H, v25.8H, v10.8H               // ..............*....
        // gap                                   // ...................
        str q6, [x0, #48]                        // ..................*
        // gap                                   // ...................
        add v20.8H, v26.8H, v27.8H               // .........*.........
        // gap                                   // ...................
        str q14, [x0, #32]                       // .................*.
        // gap                                   // ...................
        sub v4.8H, v26.8H, v27.8H                // ........*..........
        // gap                                   // ...................
        str q20, [x0], #4*16                     // ...............*...
        // gap                                   // ...................
        ldr q25, [x0, #48]                       // ....e..............
        // gap                                   // ...................
        // gap                                   // ...................
        // gap                                   // ...................
        str q4, [x0, #-48]                       // ................*..
        // gap                                   // ...................

        // original source code
        // ldr q0, [x1, #0]                       // e........|.........e........
        // ldr q8,  [x0]                          // .........|......*...........
        // ldr q9,  [x0, #1*16]                   // .........*..................
        // ldr q10, [x0, #2*16]                   // .........|..*...............
        // ldr q11, [x0, #3*16]                   // .......e.|................e.
        // mul v24.8h, v9.8h, v0.h[0]             // .........|.....*............
        // sqrdmulh v9.8h, v9.8h, v0.h[1]         // .........|...*..............
        // mls v24.8h, v9.8h, v1.h[0]             // .........|........*.........
        // sub     v9.8h,    v8.8h, v24.8h        // .....*...|..............*...
        // add     v8.8h,    v8.8h, v24.8h        // ...*.....|............*.....
        // mul v24.8h, v11.8h, v0.h[0]            // .........|.*................
        // sqrdmulh v11.8h, v11.8h, v0.h[1]       // .........|*.................
        // mls v24.8h, v11.8h, v1.h[0]            // .........|....*.............
        // sub     v11.8h,    v10.8h, v24.8h      // .........|.......*..........
        // add     v10.8h,    v10.8h, v24.8h      // .*.......|..........*.......
        // str q8,  [x0], #4*16                   // ......*..|...............*..
        // str q9,  [x0, #-3*16]                  // ........*|.................*
        // str q10, [x0, #-2*16]                  // ....*....|.............*....
        // str q11, [x0, #-1*16]                  // ..*......|...........*......

        sub count, count, #1
        cbnz count, start
        ldr q27, [x0, #16]                       // *................
        // gap                                   // .................
        // gap                                   // .................
        // gap                                   // .................
        sqrdmulh v10.8H, v25.8H, v15.H[1]        // .*...............
        // gap                                   // .................
        mul v25.8H, v25.8H, v15.H[0]             // ..*..............
        // gap                                   // .................
        mul v26.8H, v27.8H, v15.H[0]             // ......*..........
        // gap                                   // .................
        sqrdmulh v14.8H, v27.8H, v15.H[1]        // ....*............
        // gap                                   // .................
        ldr q28, [x0, #32]                       // ...*.............
        // gap                                   // .................
        // gap                                   // .................
        // gap                                   // .................
        mls v25.8H, v10.8H, v1.H[0]              // .....*...........
        // gap                                   // .................
        mls v26.8H, v14.8H, v1.H[0]              // .........*.......
        // gap                                   // .................
        ldr q27, [x0]                            // .......*.........
        // gap                                   // .................
        // gap                                   // .................
        // gap                                   // .................
        sub v11.8H, v28.8H, v25.8H               // ........*........
        // gap                                   // .................
        // gap                                   // .................
        // gap                                   // .................
        sub v12.8H, v27.8H, v26.8H               // ..............*..
        // gap                                   // .................
        str q11, [x0, #48]                       // ...........*.....
        // gap                                   // .................
        add v1.8H, v28.8H, v25.8H                // ..........*......
        // gap                                   // .................
        str q12, [x0, #16]                       // ................*
        // gap                                   // .................
        add v14.8H, v27.8H, v26.8H               // ............*....
        // gap                                   // .................
        str q1, [x0, #32]                        // .............*...
        // gap                                   // .................
        // gap                                   // .................
        // gap                                   // .................
        str q14, [x0], #4*16                     // ...............*.
        // gap                                   // .................

        // original source code
        // ldr q14, [x0, #16]                     // *................
        // sqrdmulh v31.8H, v25.8H, v15.H[1]      // .*...............
        // mul v10.8H, v25.8H, v15.H[0]           // ..*..............
        // ldr q25, [x0, #32]                     // .....*...........
        // sqrdmulh v28.8H, v14.8H, v15.H[1]      // ....*............
        // mls v10.8H, v31.8H, v1.H[0]            // ......*..........
        // mul v27.8H, v14.8H, v15.H[0]           // ...*.............
        // ldr q26, [x0]                          // ........*........
        // sub v6.8H, v25.8H, v10.8H              // .........*.......
        // mls v27.8H, v28.8H, v1.H[0]            // .......*.........
        // add v14.8H, v25.8H, v10.8H             // ............*....
        // str q6, [x0, #48]                      // ...........*.....
        // add v20.8H, v26.8H, v27.8H             // ..............*..
        // str q14, [x0, #32]                     // ...............*.
        // sub v4.8H, v26.8H, v27.8H              // ..........*......
        // str q20, [x0], #4*16                   // ................*
        // str q4, [x0, #-48]                     // .............*...
