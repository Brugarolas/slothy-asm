count .req x2

mov count, #16

        ldr q14, [x0, #16]        // *.
        // gap                    // ..
        // gap                    // ..
        // gap                    // ..
        ldr q6, [x1, #0]          // .*
        // gap                    // ..

        // original source code
        // ldr q14, [x0, #16]      // *.
        // ldr q6, [x1, #0]        // .*

        sub count, count, #1
start:
        ldr q23, [x0, #48]                      // ....*..............
        // gap                                  // ...................
        // gap                                  // ...................
        // gap                                  // ...................
        mul v11.8H, v14.8H, v6.H[0]             // .....*.............
        // gap                                  // ...................
        sqrdmulh v21.8H, v14.8H, v6.H[1]        // ......*............
        // gap                                  // ...................
        mul v16.8H, v23.8H, v6.H[0]             // ..........*........
        // gap                                  // ...................
        sqrdmulh v29.8H, v23.8H, v6.H[1]        // ...........*.......
        // gap                                  // ...................
        ldr q4, [x0]                            // .*.................
        // gap                                  // ...................
        // gap                                  // ...................
        // gap                                  // ...................
        mls v11.8H, v21.8H, v1.H[0]             // .......*...........
        // gap                                  // ...................
        ldr q13, [x0, #32]                      // ...*...............
        // gap                                  // ...................
        // gap                                  // ...................
        // gap                                  // ...................
        mls v16.8H, v29.8H, v1.H[0]             // ............*......
        // gap                                  // ...................
        sub v23.8H, v4.8H, v11.8H               // ........*..........
        // gap                                  // ...................
        add v22.8H, v4.8H, v11.8H               // .........*.........
        // gap                                  // ...................
        ldr q14, [x0, #80]                      // ..e................
        // gap                                  // ...................
        // gap                                  // ...................
        // gap                                  // ...................
        str q23, [x0, #16]                      // ................*..
        // gap                                  // ...................
        add v29.8H, v13.8H, v16.8H              // ..............*....
        // gap                                  // ...................
        str q22, [x0], #4*16                    // ...............*...
        // gap                                  // ...................
        sub v5.8H, v13.8H, v16.8H               // .............*.....
        // gap                                  // ...................
        str q29, [x0, #-32]                     // .................*.
        // gap                                  // ...................
        ldr q6, [x1, #0]                        // e..................
        // gap                                  // ...................
        // gap                                  // ...................
        // gap                                  // ...................
        str q5, [x0, #-16]                      // ..................*
        // gap                                  // ...................

        // original source code
        // ldr q0, [x1, #0]                       // ......e.|................e.
        // ldr q8,  [x0]                          // ........|....*.............
        // ldr q9,  [x0, #1*16]                   // e.......|..........e.......
        // ldr q10, [x0, #2*16]                   // ........|......*...........
        // ldr q11, [x0, #3*16]                   // ........*..................
        // mul v24.8h, v9.8h, v0.h[0]             // ........|*.................
        // sqrdmulh v9.8h, v9.8h, v0.h[1]         // ........|.*................
        // mls v24.8h, v9.8h, v1.h[0]             // ........|.....*............
        // sub     v9.8h,    v8.8h, v24.8h        // ........|........*.........
        // add     v8.8h,    v8.8h, v24.8h        // ........|.........*........
        // mul v24.8h, v11.8h, v0.h[0]            // ........|..*...............
        // sqrdmulh v11.8h, v11.8h, v0.h[1]       // ........|...*..............
        // mls v24.8h, v11.8h, v1.h[0]            // ........|.......*..........
        // sub     v11.8h,    v10.8h, v24.8h      // ....*...|..............*...
        // add     v10.8h,    v10.8h, v24.8h      // ..*.....|............*.....
        // str q8,  [x0], #4*16                   // ...*....|.............*....
        // str q9,  [x0, #-3*16]                  // .*......|...........*......
        // str q10, [x0, #-2*16]                  // .....*..|...............*..
        // str q11, [x0, #-1*16]                  // .......*|.................*

        sub count, count, #1
        cbnz count, start
        ldr q5, [x0, #48]                       // *................
        // gap                                  // .................
        // gap                                  // .................
        // gap                                  // .................
        sqrdmulh v23.8H, v14.8H, v6.H[1]        // ..*..............
        // gap                                  // .................
        mul v25.8H, v14.8H, v6.H[0]             // .*...............
        // gap                                  // .................
        mul v22.8H, v5.8H, v6.H[0]              // ...*.............
        // gap                                  // .................
        sqrdmulh v6.8H, v5.8H, v6.H[1]          // ....*............
        // gap                                  // .................
        ldr q15, [x0]                           // .....*...........
        // gap                                  // .................
        // gap                                  // .................
        // gap                                  // .................
        mls v25.8H, v23.8H, v1.H[0]             // ......*..........
        // gap                                  // .................
        mls v22.8H, v6.8H, v1.H[0]              // ........*........
        // gap                                  // .................
        ldr q11, [x0, #32]                      // .......*.........
        // gap                                  // .................
        // gap                                  // .................
        // gap                                  // .................
        sub v5.8H, v15.8H, v25.8H               // .........*.......
        // gap                                  // .................
        // gap                                  // .................
        // gap                                  // .................
        add v29.8H, v11.8H, v22.8H              // ............*....
        // gap                                  // .................
        str q5, [x0, #16]                       // ...........*.....
        // gap                                  // .................
        sub v5.8H, v11.8H, v22.8H               // ..............*..
        // gap                                  // .................
        str q29, [x0, #32]                      // ...............*.
        // gap                                  // .................
        add v29.8H, v15.8H, v25.8H              // ..........*......
        // gap                                  // .................
        str q5, [x0, #48]                       // ................*
        // gap                                  // .................
        // gap                                  // .................
        // gap                                  // .................
        str q29, [x0], #4*16                    // .............*...
        // gap                                  // .................

        // original source code
        // ldr q23, [x0, #48]                    // *................
        // mul v11.8H, v14.8H, v6.H[0]           // ..*..............
        // sqrdmulh v21.8H, v14.8H, v6.H[1]      // .*...............
        // mul v16.8H, v23.8H, v6.H[0]           // ...*.............
        // sqrdmulh v29.8H, v23.8H, v6.H[1]      // ....*............
        // ldr q4, [x0]                          // .....*...........
        // mls v11.8H, v21.8H, v1.H[0]           // ......*..........
        // ldr q13, [x0, #32]                    // ........*........
        // mls v16.8H, v29.8H, v1.H[0]           // .......*.........
        // sub v23.8H, v4.8H, v11.8H             // .........*.......
        // add v22.8H, v4.8H, v11.8H             // ..............*..
        // str q23, [x0, #16]                    // ...........*.....
        // add v29.8H, v13.8H, v16.8H            // ..........*......
        // str q22, [x0], #4*16                  // ................*
        // sub v5.8H, v13.8H, v16.8H             // ............*....
        // str q29, [x0, #-32]                   // .............*...
        // str q5, [x0, #-16]                    // ...............*.
